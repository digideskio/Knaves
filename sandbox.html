<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>

    <link rel="stylesheet" href="css/playingcards.css" />

    <script type="text/javascript" src="knaves.js"></script>
    <script type="text/javascript" src="knavesevents.js"></script>
    <script type="text/javascript" src="cardutils/cardutils.js"></script>
    <script type="text/javascript" src="cardutils/playingcards/playingcards.js"></script>

    <script type="text/javascript">

        window.addEventListener('DOMContentLoaded', function(e) {
            console.log('Document loaded');

            // This is just a dummy function for now
            var createCardView = function(card) {
                var div = document.createElement('div');
                div.innerHTML = card.toString();
                div.className = 'playing-card';

                return div;
            };

            var knavesUI = new KnavesUI(document.getElementById('canvas'), createCardView);
            knavesUI.createZone('zoneA');
            knavesUI.createZone('zoneB');

            var deck = playingcards.buildDeck();
            cardUtils.shuffle(deck);

            for (var i = 0; i<7; ++i) {
                var card = deck.pop();
                knavesUI.processEvent(new knavesevents.CardEnterPlayEvent(card, card.toString(), 'zoneA'));
            }
            for (var i = 0; i<7; ++i) {
                var card = deck.pop();
                knavesUI.processEvent(new knavesevents.CardEnterPlayEvent(card, card.toString(), 'zoneB'));
            }
        });

    </script>
</head>
<body>
    <div id="canvas"></div>
</body>
</html>